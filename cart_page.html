<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/5b778b23e2.js" crossorigin="anonymous"></script>
    <title>GoToBuy</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            /* border:1px solid red; */
            font-family: "Lato", "Noto Sans TC", sans-serif;
        }


        header {
            /* margin: 0 80px; */
            /* width: 100%; */
            height: 90px;
            /* background-color: #d3d3d3; */
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 80px;
            /* border: 2px solid red; */
        }

        .header_size {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 1200px;
            /* border: 2px solid blue; */
        }

        .logo>a {
            font-size: 30px;
            font-weight: bolder;
            width: 100px;
            word-wrap: break-word;
            text-decoration: none;
            color: #000;
        }

        .icon_bar a,
        .icon_bar span {
            color: #000;
            font-size: 20px;
            text-decoration: none;
            /* border: 2px solid red; */
            margin: 10px;
        }

        .icon_bar>a:hover,
        .icon_bar :nth-child(2):hover {
            color: #ddd;
            transition: all 0.5s;
        }

        .icon_bar :nth-child(2) .badge {

            position: absolute;
            top: -15px;
            right: -15px;
            padding: 2px 3px;
            border-radius: 50%;
            background-color: red;
            color: white;
            font-size: 8px;
            box-sizing: border-box;
        }

        /* section{
            display: flex;
            justify-content: center;
            width:1000px;
background-color: aqua;
        } */

        /* 最近瀏覽 */
        .index {
            background-color: #f9f9f9;
            width: 1200px;
            height: 50px;
            /* border-top: 2px solid rgba(211, 211, 211, 0.5); */

            display: flex;
            justify-content: space-evenly;
            /* align-items: center; */
            margin: 0 80px;
        }

        .index :nth-child(1) {
            clip-path: polygon(90% 0%, 100% 50%, 90% 100%, 0% 100%, 0% 50%, 0% 0%);
            background-color: #000;
            color: #f9f9f9;
            /* width: 100%; */

        }


        .index span {

            display: block;
            margin: 0px auto;
            padding: 15px 20px;
            width: 100%;
            text-align: center;
        }



        main {
            display: flex;
            justify-content: center;
            /* border: 3px solid red; */
            /* margin: 0 80px; */
        }


        /* 左右內容 */
        .container {
            /* border-top: 2px solid rgba(211, 211, 211, 00.5); */
            display: flex;
            justify-content: space-between;
            margin: 50px 80px;
            /* align-items: center; */
            width: 1200px;
            /* border: 2px solid blue; */
        }

        .box_left {
            /* flex: 70%; */
            margin-right: 0px;
        }

        .box_right {
            /* flex: 30%; */
            background-color: #f9f9f9;
            padding: 25px 50px;
            /* border:2px solid rgba(211, 211, 211, 0.5); */

        }

        .box {
            display: flex;
            flex-direction: column;
            /* justify-content: space-between; */
            align-items: center;
            /* background-color: aqua; */
            position: relative;
            height: 100%;
            /* width: 250px; */
        }

        .box>button {
            width: 100%;
            height: 50px;
            font-size: 18px;
            background-color: #000;
            color: white;
            border-radius: 25px;
            cursor: pointer;
            padding: 5px 15px;
        }

        .box>button:hover {
            background-color: #bd3030;
        }

        .box>p {
            font-weight: bold;
            margin-top: 20px;
        }

        .box>a {
            color: #000;
        }



        table {
            border-collapse: collapse;
            width: 100%;
        }

        tr,
        td {
            display: flex;
            justify-content: space-between;
            align-items: start;
            /* padding: 10px; */
            margin: 15px 15px 15px 0px;
            height: 200px;
            font-weight: bold;

        }


        table tr:nth-child(1) {
            border-bottom: 3px solid rgba(211, 211, 211, 0.5);
        }

        td:nth-child(1) {
            width: 30%;
        }

        td:nth-child(2) {
            width: 60%;
        }

        td:nth-child(3) {
            width: 20%;
        }

        td:nth-child(4) {

            display: flex;
            justify-content: center;
            align-items: start;
        }

        .btn_bar {
            /* border: 1px solid red; */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            width: 60%;
            height: 80%;
            text-align: center;
        }

        input {
            text-align: center;
            height: 30px;
        }

        .btn_bar button {
            border: none;
            border-radius: 20px;
            width: 100%;
            height: 30px;
            margin: 8px auto;
            cursor: pointer;

        }

        .btn_bar button:hover {
            background-color: #000;
            color: white;

        }

        .btn_bar>a {
            color: #000;

        }

        #noItemsMessage {
            /* background-color: aqua; */
            display: none;
            color: #000;
            font-size: 25px;
            margin-top: 50px;
            text-align: center;
            /* position: absolute; */
            /* top: 50%; */


        }
        .Recently{
            background-color: #f6f7f8; 
            margin: 50px 50px 0px 50px auto;
        }

        .container_column {
            display: flex;
            flex-direction: column;
            justify-content: center;

            /* border: 2px solid blue; */
            padding: 50px auto;
            margin: 0px 80px;
            width: 1200px;
            height: 300px;
        }

        .Card_box {
            /* background-color: aqua; */
            padding: 20px 0px;
        }

        .Card_box>a>img {
            width: 150px;
            /* object-fit: contain; */
            margin-right: 15px;
            /* border: 2px solid red; */
        }

        .Card_box>a>img:hover {
            filter: opacity(0.8);
            transition: all 0.5s;
        }

        /* 頁腳 */
        .footer_box {
            height: 300px;
            width: auto;
            background-color: black;
            padding: 50px;
            margin: 0 auto;
            /* border: 3px solid red; */



        }

        .footer_bar {
            /* border: 3px solid red; */
            margin: 0px;
            height: 100%;
            padding-top: 200px;
            display: flex;
            align-items: center;
            justify-content: space-between;



        }

        .footer_icon {
            width: 90px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            /* border: 3px solid red; */
        }

        .footer_icon a {
            color: #f9f9f9;
            font-size: 20px;

        }


        /* 響應式 */

        /* 螢幕大於1440px */
        /* @media screen and (min-width:1440px) {} */

        /* 螢幕1440px~1000px */
        /* @media screen and (min-width:1000px) and (max-width:1440px) {} */

        /* 螢幕1000px~700px */
        @media screen and (min-width:700px) and (max-width:1000px) {
            .container {
                flex-direction: column;
            }

            .box {
                height: 200px;
            }
        }

        /* 螢幕700px以下 */
        @media screen and (max-width:700px) {
            .index span{
                font-size: 12px;
            }
            .container {
                flex-direction: column;
                margin: 0 auto;
               
            }
            tr{
                margin: 20px;
            }
         td{
            font-size: 12px;
         }
            .box {
                height: 200px;
            }
        }

        .Card_box{
            display: flex;
        }
    </style>





</head>

<body>
    <!-- 標題 -->

    <body>
        <header>
            <div class="header_size">
                <span>
                    <span class="logo">
                        <a href="homepage.html">
                            <img src="" alt="">Second Home.
                        </a>
                    </span>
                </span>

                <!-- 按鈕欄 -->
                <span class="icon_bar">
                    <a href="#" class="fas fa-sharp fa-solid fa-heart"></a>

                    <a href="#" class="fas fa-solid fa-bars"></a>
                </span>
            </div>
        </header>
        <main>
            <!-- 中間過程索引 -->
            <div class="index">
                <!-- 過程圖標 -->
                <span>Shopping Cart</span>
                <span>Payment Method</span>
                <span>Order Confirmation</span>
                <span>Complete</span>
            </div>

        </main>




        <main id="shoppingCart">

            <div class="container">


                <!-- 左半邊60% -->
                <div class="box_left">
                    <h4 id="noItemsMessage">Your cart is empty.</h4>

                    <table id="cartTable">
                        <tr data-id="1">
                            <td><a href="./product_page.html">
                                    <img src="./img/ex.jpg" alt="" style="width: 150px;">
                                </a></td>
                            <td>Restored Ercol Table and Four Chairs</td>
                            <td class="prodPrice">3980</td>
                            <td>
                                <div class="btn_bar">
                                    <input type="number" name="" id="" value="1" min="0" class="num"
                                        onclick="getTotal()" oninput="checkQuantity(this)">
                                    <!-- <button class="countBtn" onclick="getTotal()">count</button> -->
                                    <button>Save for later</button>
                                    <button class="deleteBtn" onclick="deleteRow(this)">Remove</button>
                                </div>
                            </td>
                        </tr>
                        <tr data-id="2">
                            <td><a href="">
                                    <img src="./img/18.jpg" alt="" style="width: 150px;" herf="#">
                                </a></td>
                            <td>Painted Mahogany Sideboard</td>
                            <td class="prodPrice">1580</td>
                            <td>
                                <div class="btn_bar">
                                    <input type="number" name="" class="num" min="0" value="1" onclick="getTotal()"
                                        oninput="checkQuantity(this)">
                                    <!-- <button class="countBtn" onclick="getTotal()">count</button> -->
                                    <button>Save for later</button>
                                    <button class="deleteBtn" onclick="deleteRow(this)">Remove</button>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- 右半邊40% -->
                <div class="box_right">
                    <div class="box">
                        <button>Proceed To Checkout</button>
                        <p></p>
                        <p id="grandTotal"></p>


                        <a href="homepage.html" style="position:absolute;bottom: 5%;">Continue Shopping >></a>

                    </div>
                </div>
            </div>

        </main>
        <!-- 最近瀏覽 -->
        <main class="Recently">
            <div class="container_column">
                <h2>Recently Viewed</h2>
                <div class="Card_box">

                    <a href=""><img src="./img/14.jpg" alt=""></a>
                    <a href=""><img src="./img/6.jpg" alt=""></a>
                </div>

            </div>
        </main>

        <!-- 頁腳 -->
        <footer class="footer_box">

            <hr>

            <div class="footer_bar">
                <div>
                    <span class="logo">
                        <a href="#" style="text-decoration: none; color: #f6f7f8;">
                            Second Home.
                        </a>
                    </span>
                    <span style=" color: #f6f7f8;">&copy; 2024 Company, Inc</span>
                </div>
                <span class="footer_icon">
                    <a href="#"><i class="fa-brands fa-x-twitter"></i></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#"><i class="fa-brands fa-facebook"></i></a>

                </span>

            </div>

        </footer>

        <script>



            window.addEventListener('load', getTotal);

            function getTotal() {
                const num = document.querySelectorAll(".num");
                const price = document.querySelectorAll(".prodPrice");
                let sum = 0;
                for (let i = 0; i < price.length; i++) {
                    sum += price[i].textContent * num[i].value;
                }

                // 更新總額欄位
                document.getElementById('grandTotal').innerText = 'Total：NT$ ' + sum;

                // 檢查購物車是否為空
                const noItemsMessage = document.getElementById("noItemsMessage");
                const cartTable = document.getElementById("cartTable");
                if (cartTable.rows.length <= 0) {

                    // 包含表頭行，空購物車情況
                    noItemsMessage.style.display = "block";
                    document.getElementById('grandTotal').innerText = ""
                } else {
                    noItemsMessage.style.height = "0";
                }
            }

            function deleteRow(btn) {
                const row = btn.closest("tr");
                row.remove();
                getTotal();
            }


            function checkQuantity(input) {
                if (input.value < 0) {
                    input.value = 0; // 防止負值
                }
                if (input.value == 0) {
                    const row = input.closest("tr");
                    row.remove();
                }
                getTotal();
            }
        </script>

    </body>

</html>